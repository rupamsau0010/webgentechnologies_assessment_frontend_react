(this.webpackJsonpwebgentechlogies_assessment_frontend=this.webpackJsonpwebgentechlogies_assessment_frontend||[]).push([[0],{69:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(16),s=a.n(r),o=a(4),l=a(3),i=a(18),d=a(19),u=a(20),p=a(23),j=a(22),b=a(11),h=a.n(b),m=a(1),g=function(e){Object(p.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={email:"",password:""},e.handleChange=function(t){var a=t.target,n=a.name,c=a.value;e.setState(Object(i.a)({},n,c))},e.submit=function(t){t.preventDefault();var a={email:e.state.email,password:e.state.password};h()({url:"/authentication/login",method:"POST",data:a}).then((function(t){console.log("Success"),console.log(t),"success"===t.data.status?(alert("Login Successful"),e.props.history.push("/")):t.data.errors.email.length?alert(t.data.errors.email):t.data.errors.password.length&&alert(t.data.errors.password)})).catch((function(e){console.log("Internal server error"),alert("Internal Server Error. Please try again."),console.log(e)}))},e}return Object(u.a)(a,[{key:"render",value:function(){return console.log("state: ",this.state),Object(m.jsx)("div",{id:"login",children:Object(m.jsxs)("form",{onSubmit:this.submit,children:[Object(m.jsx)("p",{children:"Welcome to Webgen Technologies"}),Object(m.jsx)("input",{className:"form-control",type:"email",name:"email",id:"email",placeholder:"Enter Email",value:this.state.email,onChange:this.handleChange}),Object(m.jsx)("input",{className:"form-control",type:"password",name:"password",id:"password",placeholder:"Enter Password",value:this.state.password,onChange:this.handleChange}),Object(m.jsx)("button",{class:"btn btn-primary",children:"Submit"})]})})}}]),a}(n.Component),O=a(14),v=a.n(O),x=a(21),f=a(6),y=(a(37),a(12)),N=a(26),S=a.n(N);var w=function(e){var t=c.a.useState(""),a=Object(f.a)(t,2),n=a[0],r=a[1],s=(Object(l.f)(),Object(y.b)()),i=function(){var e=Object(x.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(n),h()({url:"/products/searchproduct",method:"POST",data:{searchGiven:n}}).then((function(e){console.log(e.data.payload),s({type:"SEARCH_PRODUCT",payload:e.data.payload})}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsx)("nav",{className:"navbar bg-dark navbar-expand-lg navbar-dark",children:Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)(o.b,{to:"/",className:"navbar-brand ml-5",children:"LOGO"}),Object(m.jsx)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(m.jsx)("span",{class:"navbar-toggler-icon"})}),Object(m.jsx)("div",{class:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(m.jsxs)("ul",{class:"navbar-nav ml-auto mb-2 mb-lg-0 flex-grow-1",children:[Object(m.jsx)("input",{class:"form-control me-2",type:"search",onChange:function(e){r(e.target.value)},placeholder:"Search",name:"searchGiven",value:n,"aria-label":"Search"}),Object(m.jsx)("button",{class:"btn",onClick:i,children:"Submit"}),Object(m.jsx)(o.b,{class:"btn",to:"/create",type:"submit",children:"Create"}),void 0===e.cookie?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("li",{class:"nav-item d-flex",children:Object(m.jsx)(o.b,{class:"nav-link",to:"/login",children:"Login"})}),Object(m.jsx)("li",{class:"nav-item",children:Object(m.jsx)(o.b,{class:"nav-link",to:"/register",children:"Register"})})]}):Object(m.jsx)("li",{class:"nav-item",children:Object(m.jsx)("button",{class:"btn",onClick:function(){console.log("alert"),h()({url:"/authentication/logout",method:"POST"}).then((function(t){console.log(t),e.onload()}))},children:"Logout"})})]})})]})})};var C=function(){var e=Object(l.g)().id,t=Object(y.c)((function(e){return e})).find((function(t){return t._id===e}));return Object(m.jsx)("div",{className:"product",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-md-6",children:Object(m.jsx)("img",{src:t.productImgUrl,alt:"Product",className:"img-fluid"})}),Object(m.jsxs)("div",{className:"col-md-6",children:[Object(m.jsx)("h1",{className:"title",children:t.productName}),Object(m.jsx)("p",{className:"companyName",children:t.companyName}),Object(m.jsxs)("h2",{children:["Rs. ",t.productPrice]}),Object(m.jsx)("p",{children:t.productTitle})]})]})})};var P=function(e){var t=e.posts;return e.loading?Object(m.jsx)("h1",{children:"Loading.."}):Object(m.jsx)("div",{className:"row posts",children:t.map((function(e,t){return Object(m.jsx)("div",{className:"col-md-4",children:Object(m.jsxs)("div",{class:"card",children:[Object(m.jsx)("img",{src:e.productImgUrl,class:"card-img-top img-fluid",alt:"productImage"}),Object(m.jsxs)("div",{class:"card-body",children:[Object(m.jsxs)("h5",{class:"card-title",children:[e.productName," - ",e.companyName]}),Object(m.jsx)("p",{class:"card-text",children:e.productTitle}),Object(m.jsxs)("p",{class:"card-text",children:["Rs. ",e.productPrice]}),Object(m.jsx)(o.b,{to:"/product/".concat(e._id),className:"btn",children:"See More"})]})]})})}))})};var k=function(e){for(var t=e.page,a=e.totalPosts,n=e.paginate,c=[],r=1;r<=Math.ceil(a/t);r++)c.push(r);return Object(m.jsx)("nav",{className:"pagination navbar navbar-expand-lg ",children:Object(m.jsx)("ul",{className:"pagination",children:c.map((function(e,t){return Object(m.jsx)("li",{className:"page-item",children:Object(m.jsx)(o.b,{onClick:function(){return n(e)},to:"/",className:"page-link",children:e})})}))})})};function T(){var e=c.a.useState([]),t=Object(f.a)(e,2),a=t[0],r=t[1],s=c.a.useState(!1),o=Object(f.a)(s,2),l=o[0],i=o[1],d=c.a.useState(1),u=Object(f.a)(d,2),p=u[0],j=u[1],b=c.a.useState(6),g=Object(f.a)(b,2),O=g[0],N=(g[1],c.a.useState(S.a.get("jwt"))),C=Object(f.a)(N,2),T=C[0],E=C[1],D=Object(y.c)((function(e){return e})),R=Object(y.b)();Object(n.useEffect)((function(){(function(){var e=Object(x.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(!0),h()({url:"https://webgen-assessment-backend.herokuapp.com/products/getallproducts",method:"GET"}).then((function(e){var t=e.data;r(t.payload),console.log("data",t.payload),R({type:"LOAD_PRODUCT",payload:t.payload})})).catch((function(e){console.log("Error Retriving data"+e)})),i(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var I=p*O,U=I-O,_=D.slice(U,I);return Object(m.jsxs)("div",{className:"Home",children:[Object(m.jsx)(w,{onload:function(){console.log("calle"),E(void 0),console.log("cleared",T)},cookie:T}),Object(m.jsx)(P,{loading:l,posts:_}),D.length>6?Object(m.jsx)(k,{page:O,totalPosts:a.length,paginate:function(e){j(e)}}):null]})}a(69);var E=function(){var e=c.a.useState(""),t=Object(f.a)(e,2),a=t[0],n=t[1],r=c.a.useState(""),s=Object(f.a)(r,2),o=s[0],i=s[1],d=c.a.useState(""),u=Object(f.a)(d,2),p=u[0],j=u[1],b=c.a.useState(""),g=Object(f.a)(b,2),O=g[0],v=g[1],x=c.a.useState(""),N=Object(f.a)(x,2),S=N[0],w=N[1],C=(Object(y.b)(),Object(l.f)()),P=function(e){var t=e.target.name,a=e.target.value;switch(console.log(t,a),t){case"productName":n(a);break;case"CompanyName":i(a);break;case"productTitle":j(a);break;case"productPrice":v(a);break;case"productImgUrl":w(a)}};return Object(m.jsx)("div",{id:"login",children:Object(m.jsxs)("form",{children:[Object(m.jsx)("p",{children:"Create Product"}),Object(m.jsx)("input",{className:"form-control",type:"text",id:"productName",value:a,onChange:P,name:"productName",placeholder:"Enter Product Name"}),Object(m.jsx)("input",{className:"form-control",type:"url",name:"CompanyName",value:o,onChange:P,placeholder:"Enter Company Name"}),Object(m.jsx)("input",{className:"form-control",type:"text",name:"productTitle",value:p,onChange:P,placeholder:"Enter Product Title"}),Object(m.jsx)("input",{className:"form-control",type:"number",name:"productPrice",value:O,onChange:P,placeholder:"Enter Product Price"}),Object(m.jsx)("input",{className:"form-control",type:"url",name:"productImgUrl",value:S,onChange:P,placeholder:"Enter Product Url"}),Object(m.jsx)("button",{type:"button",onClick:function(){var e={productName:a,companyName:o,productTitle:p,productPrice:O,productImgUrl:S};console.log(e),h()({url:"/products/enterproduct",method:"POST",data:e}).then((function(e){console.log(e),"success"===e.data.status?(console.log(e),alert("Successfully added"),C.push("/")):"invalid"===e.data.status&&(console.log(e),alert(e.data.payload),C.push("/register"))})).catch((function(e){console.log(e)}))},class:"btn btn-primary",children:"Submit"})]})})},D=function(e){Object(p.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={email:"",password:""},e.handleChange=function(t){var a=t.target,n=a.name,c=a.value;e.setState(Object(i.a)({},n,c))},e.submit=function(t){t.preventDefault();var a={email:e.state.email,password:e.state.password};h()({url:"/authentication/signup",method:"POST",data:a}).then((function(t){console.log("Success"),console.log(t),"success"===t.data.status?(alert("Registration Successful"),e.props.history.push("/")):t.data.errors.email.length?alert(t.data.errors.email):t.data.errors.password.length&&alert(t.data.errors.password)})).catch((function(e){console.log("Internal server error"),alert("Internal Server Error. Please try again."),console.log(e)}))},e}return Object(u.a)(a,[{key:"render",value:function(){return console.log("state: ",this.state),Object(m.jsx)("div",{id:"login",children:Object(m.jsxs)("form",{onSubmit:this.submit,children:[Object(m.jsx)("p",{children:"Welcome to Webgen Technologies"}),Object(m.jsx)("input",{className:"form-control",type:"email",name:"email",id:"email",placeholder:"Enter Email",value:this.state.email,onChange:this.handleChange}),Object(m.jsx)("input",{className:"form-control",type:"password",name:"password",id:"password",placeholder:"Enter Password",value:this.state.password,onChange:this.handleChange}),Object(m.jsx)("button",{class:"btn btn-primary",children:"Submit"})]})})}}]),a}(n.Component);function R(){return Object(m.jsx)(o.a,{children:Object(m.jsxs)(l.c,{children:[Object(m.jsx)(l.a,{exact:!0,path:"/login",component:g}),Object(m.jsx)(l.a,{exact:!0,path:"/",component:T}),Object(m.jsx)(l.a,{exact:!0,path:"/register",component:D}),Object(m.jsx)(l.a,{exact:!0,path:"/create",component:E}),Object(m.jsx)(l.a,{exact:!0,path:"/product/:id",component:C})]})})}var I=a(27),U=a(39),_=[],A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_PRODUCT":return e=t.payload;case"SEARCH_PRODUCT":return console.log(t.payload),e=t.payload;case"ADD_PRODUCT":return e.length>1?(e.push(t.payload),console.log(e),e):e;default:return e}},L=Object(I.createStore)(A,Object(U.composeWithDevTools)());s.a.render(Object(m.jsx)(y.a,{store:L,children:Object(m.jsx)(R,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.64cbc7ce.chunk.js.map